{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["mapboxgl","accessToken","CurbMap","props","_this","_Component","call","this","state","lng","lat","zoom","componentDidMount","_this2","_this$state","map1","Map","container","before","style","center","map2","after","mapcompare","Compare","scaledWidth","width","type","base","stops","Math","pow","on","addSource","data","curbs","curbs_unmatched","addLayer","id","source","paint","line-color","line-opacity","line-width","line-offset","filter","render","_this3","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","el","position","top","bottom","height","Component"],"mappings":"2MAQAA,IAASC,YAAc,gGAGjBC,cAEJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXC,KAAM,SACNC,IAAK,QACLC,KAAM,IALSP,sCASnBQ,kBAAA,WAAoB,IAAAC,EAAAN,KAAAO,EAEQP,KAAKC,MAAxBC,EAFWK,EAEXL,IAAKC,EAFMI,EAENJ,IAAKC,EAFCG,EAEDH,KACjBJ,KAAKQ,KAAO,IAAIf,IAASgB,IAAI,CAC3BC,UAAWV,KAAKW,OAChBC,MAAO,oDACPC,OAAQ,CAACX,EAAKC,GACdC,SAGFJ,KAAKc,KAAO,IAAIrB,IAASgB,IAAI,CAC3BC,UAAWV,KAAKe,MAChBH,MAAO,oDACPC,OAAQ,CAACX,EAAKC,GACdC,SAGFJ,KAAKgB,WAAa,IAAIC,IAAQjB,KAAKQ,KAAMR,KAAKc,KAAM,IAIpD,IAAII,EAAc,SAACC,GAAW,MAAO,CACjCC,KAAQ,cACRC,KAAQ,EACRC,MAAS,CACL,CAAC,GAAIH,EAAQI,KAAKC,IAAI,GAAI,IAC1B,CAAC,GAAIL,EAAQI,KAAKC,IAAI,EAAI,OAIlCxB,KAAKQ,KAAKiB,GAAG,OAAQ,WACjBnB,EAAKE,KAAKkB,UAAU,QAAS,CAC3BN,KAAM,UACNO,KAAMC,IAGRtB,EAAKQ,KAAKY,UAAU,kBAAmB,CACrCN,KAAM,UACNO,KAAME,IAGRvB,EAAKQ,KAAKgB,SAAS,CACjBC,GAAM,oBACNX,KAAQ,OACRY,OAAU,kBACVC,MAAS,CACPC,aAAc,UACdC,eAAgB,GAChBC,aAAclB,EAAY,MAI9BZ,EAAKE,KAAKsB,SAAS,CACjBC,GAAM,sBACNX,KAAQ,OACRY,OAAU,QACVC,MAAS,CACPC,aAAc,UACdE,aAAclB,EAAY,GAC1BmB,cAAenB,EAAY,IAC3BiB,eAAgB,IAElBG,OAAO,CAAC,KAAM,eAAgB,WAGhChC,EAAKE,KAAKsB,SAAS,CACjBC,GAAM,qBACNX,KAAQ,OACRY,OAAU,QACVC,MAAS,CACPC,aAAc,UACdE,aAAclB,EAAY,GAC1BmB,cAAenB,GAAa,IAC5BiB,eAAgB,IAElBG,OAAO,CAAC,KAAM,eAAgB,eAMtCC,OAAA,WAAQ,IAAAC,EAAAxC,KAEN,OACEyC,EAAAC,EAAAC,cAAA,WAEEF,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAAC,GAAE,OAAIL,EAAKhC,KAAOqC,GAAIjC,MAAO,CAACkC,SAAU,WAClDC,IAAK,EACLC,OAAQ,EACR7B,MAAO,OACP8B,OAAQ,UANV,MAQKR,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAAC,GAAE,OAAIL,EAAK7B,OAASkC,GAAIjC,MAAO,CAACkC,SAAU,WAAWC,IAAK,EAAGC,OAAQ,EAAG7B,MAAO,OAAO8B,OAAQ,UAR7G,MASKR,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAAC,GAAE,OAAIL,EAAKzB,MAAQ8B,GAAIjC,MAAO,CAACkC,SAAU,WAAWC,IAAK,EAAEC,OAAQ,EAAE7B,MAAO,OAAO8B,OAAQ,eAxG1FC,aA+GPvD","file":"component---src-pages-index-js-5f4470e77a7901ff9b7c.js","sourcesContent":["import React, {Component} from \"react\"\nimport mapboxgl from 'mapbox-gl'\nimport Compare from 'mapbox-gl-compare'\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport 'mapbox-gl-compare/dist/mapbox-gl-compare.css';\nimport curbs from '../geojson/matched_curbs.json';\nimport curbs_unmatched from '../geojson/original_curb_data.json';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA';\n\n\nclass CurbMap extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: -114.0708,\n      lat: 51.0486,\n      zoom: 17,\n    };\n  }\n\n  componentDidMount() {\n\n    const {lng, lat, zoom } = this.state;\n    this.map1 = new mapboxgl.Map({\n      container: this.before,\n      style: 'mapbox://styles/saadiqm/cjfnjiowo0zj62rpj0y1qpib0',\n      center: [lng, lat],\n      zoom\n    });\n\n    this.map2 = new mapboxgl.Map({\n      container: this.after,\n      style: 'mapbox://styles/saadiqm/cjfnjiowo0zj62rpj0y1qpib0',\n      center: [lng, lat],\n      zoom\n    });\n\n    this.mapcompare = new Compare(this.map1, this.map2, {\n    });\n\n\n    var scaledWidth = (width) => {return {\n        \"type\": \"exponential\",\n        \"base\": 2,\n        \"stops\": [\n            [10, width * Math.pow(2, (10 - 16))],\n            [16, width * Math.pow(2, (16 - 16))]\n        ]\n    }};\n\n    this.map1.on('load', () => {\n        this.map1.addSource('Curbs', {\n          type: 'geojson',\n          data: curbs\n        });\n\n        this.map2.addSource('curbs-unmatched', {\n          type: 'geojson',\n          data: curbs_unmatched\n        });\n\n        this.map2.addLayer({\n          \"id\": \"unmatched_parking\",\n          \"type\": \"line\",\n          \"source\": \"curbs-unmatched\",\n          \"paint\": {\n            \"line-color\": \"#4286f4\",\n            \"line-opacity\": 0.5,\n            \"line-width\": scaledWidth(8)\n          }\n        });\n\n        this.map1.addLayer({\n          \"id\": \"matchedParkingRight\",\n          \"type\": \"line\",\n          \"source\": \"Curbs\",\n          \"paint\": {\n            \"line-color\": \"#FF0000\",\n            \"line-width\": scaledWidth(8),\n            \"line-offset\": scaledWidth(12),\n            \"line-opacity\": 0.5\n          },\n          filter:[\"==\", \"sideOfStreet\", \"right\"]\n        });\n\n        this.map1.addLayer({\n          \"id\": \"matchedParkingLeft\",\n          \"type\": \"line\",\n          \"source\": \"Curbs\",\n          \"paint\": {\n            \"line-color\": \"#FF0000\",\n            \"line-width\": scaledWidth(8),\n            \"line-offset\": scaledWidth(-12),\n            \"line-opacity\": 0.5\n          },\n          filter:[\"==\", \"sideOfStreet\", \"left\"]\n        });\n      });\n  }\n\n\n  render(){\n\n    return(\n      <div>\n\n        <div ref={el => this.map1 = el} style={{position: 'absolute',\n        top: 0,\n        bottom: 0,\n        width: '100%',\n        height: '100%'}}/>\n\n        // <div ref={el => this.before = el} style={{position: 'absolute',top: 0, bottom: 0, width: '100%',height: '100%'}}/>\n        // <div ref={el => this.after = el} style={{position: 'absolute',top: 0,bottom: 0,width: '100%',height: '100%'}}/>\n      </div>\n    );\n  }\n\n}\n\nexport default CurbMap\n"],"sourceRoot":""}